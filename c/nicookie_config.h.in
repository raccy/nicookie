/*
 * nicookie_config.h.in
 * Copyright (c) 2015 IGARASHI Makoto (raccy)
 * This software is released under the MIT License, see LICENSE.
 */
#ifndef nicookie_config_H
#define nicookie_config_H

#define NICOOKIE_VERSION "@NICOOKIE_VERSION@"

#define NICOOKIE_COOKIE_HOST ".nicovideo.jp"
#define NICOOKIE_COOKIE_NAME "user_session"
#define NICOOKIE_COOKIE_PATH "/"

#ifdef _WIN32
#define NICOOKIE_PATH_SEPARATOR '\\'
#else
#define NICOOKIE_PATH_SEPARATOR '/'
#endif

#ifdef DEBUG
#include <stdio.h>
#include <string.h>
#define nicookie_debug(format, ...) \
  fprintf(stderr, \
          "[NICOOKIE_DEBUG:%s:%d:%s] " format, \
          strrchr(__FILE__, NICOOKIE_PATH_SEPARATOR) ? \
            strrchr(__FILE__, NICOOKIE_PATH_SEPARATOR) + 1 : __FILE__, \
          __LINE__, \
          __func__, \
          ##__VA_ARGS__)
#else
#define nicookie_debug(format, ...)
#endif

#define nicookie_debug_str(name) \
  nicookie_debug("str: " #name " = %s\n", (name))
#define nicookie_debug_ptr(name) \
  nicookie_debug("ptr: " #name " = %p\n", (name))
#define nicookie_debug_int(name) \
  nicookie_debug("int: " #name " = %lld\n", (long long)(name))
#define nicookie_debug_func() \
  nicookie_debug("call func: %s\n", __func__)

#endif
